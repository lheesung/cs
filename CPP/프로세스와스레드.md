# 🏗️ 프로세스의 개요

## 👷‍♂️ 프로세스란?

프로세스란 실행을 위해 메모리에 올라온 동적 상태를 말한다.

> cf 프로그램?) 저장장치에 저장되어 있는 정적인 상태

### 🐸 프로세스와 프로그램

프로그램이 프로세스가 된다. → OS 로부터 제어 블록을 얻는다.

프로세스가 종료된다. → 해당 프로세스 제어 블록이 페기된다.

> 프로세스 = 프로그램 + 프로세스 제어블록

### 🌱 프로세스의 네 가지 상태

### 👀 생성상태

프로세스가 메모리에 올라와 실행 준비를 완료한 상태

### 👀 준비상태

생성된 프로세스가 CPU 를 얻을 때까지 기다리는 상태

### 👀 실행상태

준비 상태에 있는 프로세스 중 하나가 작업을 얻어 수행 중인 상태

### 👀 완료상태

실행상태의 프로세스가 주어진 식업동안 작업을 마치고 들어가는 상태

(프로세스 제어블록이 삭제된 상태임.)

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6a1863c1-6067-491d-b056-ca1f304c776f/Untitled.png)

### 💡디스패치

준비상태의 프로세스 중 하나를 실행상투로 바꾸는 CPU 스케쥴러의 직업

### 💡타임아웃

주어진 타임 슬라이스 동안 작업을 못끝내면 다시 준비상태로 돌아가는 것.

### 🌳 프로세스의 다섯 가지 상태

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/024d2b5c-af56-4b40-afeb-207edba41c9a/Untitled.png)

| 상태 | 설명                                                                          | 작업                                                 |
| ---- | ----------------------------------------------------------------------------- | ---------------------------------------------------- |
| 생성 | 프로그램을 메모리에서 가져와 준비가 완료된 상태                               | 메모리할당, 프로세스 제어 블록                       |
| 준비 | 프로세스가 자기 차례를 기다리는 상태                                          | difpatch(PID): 준비 → 실행                           |
| 실행 | 프로세스가 타임 슬라CPU 를 사용하는 상태                                      | timeout(PID), exit(PID), block(PID)                  |
| 대기 | 실행상태에 있는 프로세스가 입출력 요청 → 완료될 때 까지 기다리는 상태         | wakeup(PID) → 해당 프로세스의 제어블록이 준비 상태로 |
| 완료 | 프로세스가 종료된 상태. 쓰던 모든 데이터 정리. exit 과 abort(비정상종료) 포함 | 메모리삭제, 프로세스 제어블록 삭제                   |

### ‼️ 프로세스 제어 블록(PCB)

프로세스 제어 블록은 프로세스를 실행할 때 필요한 중요한 정보를 보관하는 자료구조다. 프로세스는 고유의 PCB를 가지고, 이는 프로세스 생성 시 함께 만들어지고 프로세스의 실행이 끝나면 폐기된다.

### 구성

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/5e7f982f-84a0-416e-b01b-4daf5d085250/Untitled.png)
포인터 : 준비상태 & 대기상태의 큐 구현 시 사용

프로세스 상태 : 프로세스의 현재 상태

프로세스 구분자 : 여러 프로세스를 구현하기 위한 구분자 → pid

프로그램 카운터 : 다음에 실행될 명령어 위치를 가르키는 프로그램 카운터 값.

프로세스 우선순위 : 프로세스 실행 순서를 결정

각종 레지스터 정보 : 프로세스 실행 중 사용하던 레지스터 값

# 🧵 스레드의 개요

## 👷‍♂️ 스레드란?

스레드는 프로세스 내에서 실행되는 작은 작업 단위를 말다. 하나의 프로세스는 여러 개의 스레드로 구성될 수 있다. 스레드는 프로세스의 코드, 데이터, 파일 등의 자원을 공유하면서 병렬적으로 실행될 수 있다.

## 🐣 프로세스와 스레드 비교

프로세스는 실행 중인 프로그램의 인스턴스로, 독립된 메모리 영역을 가지며 자신만의 자원을 보유한다. 스레드는 하나의 프로세스 내에서 실행되는 작업 단위로, 같은 프로세스 내의 스레드들은 코드와 자원을 공유하면서 실행된다.

## 🌟 멀티스레딩의 장점

멀티스레딩은 한 프로세스 내에서 여러 스레드를 생성하여 병렬적으로 작업을 처리하는 것입니다. 이로 인해 다음과 같은 장점이 있다.

성능 향상: 여러 스레드가 동시에 작업을 처리하므로 전체적인 처리 속도가 향상된다.
응답성 향상: 다중 스레드를 사용하면 사용자의 요청에 더 빠르게 응답할 수 있다.
자원 공유: 스레드는 프로세스의 자원을 공유하므로, 데이터 전달 및 동기화가 쉽다.
경제성: 스레드 간의 전환은 프로세스 간의 전환보다 더 경제적다.

## 🚥 스레드의 상태

스레드도 프로세스와 마찬가지로 다양한 상태를 가진다.

생성: 스레드 객체가 생성되었지만 아직 실행되지 않은 상태.
준비: 실행을 위해 대기 중인 상태. CPU 할당을 기다리는 상태.
실행: CPU를 할당받아 코드를 실행하는 상태.
대기: 입출력 등의 외부 이벤트 발생을 기다리는 상태.
완료: 스레드의 실행이 종료된 상태.

## 🔄 스레드의 생명 주기

스레드는 일정한 생명 주기를 가지며, 다음과 같은 상태 변화를 겪는다.

- 생성: 스레드 객체가 생성된다.
- 시작: 생성된 스레드가 실행을 시작한다.
- 실행: 스레드가 코드를 실행한다.
- 대기 및 재시작: 스레드가 외부 이벤트 발생을 대기하거나 일시 중단된 후 다시 시작된다.
- 종료: 스레드의 실행이 완료되고 종료된다.

## 🔗 스레드 제어 블록(TCB)

스레드 제어 블록은 각 스레드가 실행될 때 필요한 정보를 저장하는 데이터 구조다. 스레드마다 고유한 TCB가 생성되며, 스레드의 실행이 종료되면 해당 TCB도 해제됩니다. TCB에는 다음과 같은 정보가 포함될 수 있다.

스레드 ID
프로그램 카운터
레지스터 값
스레드 상태 등

## 🌐 스레드의 다양한 형태

스레드는 다양한 형태로 활용될 수 있다.

- 단일 스레드: 하나의 스레드만 있는 프로세스로, 병렬 처리를 하지 않다.
- 다중 스레드: 여러 개의 스레드를 가진 프로세스로, 병렬 처리를 통해 성능 향상을 이룰 수 있다.
- 멀티코어 스레딩: 멀티코어 프로세서에서 여러 스레드를 병렬 실행하여 성능을 극대화한다.

## ⚙️ 스레드의 동기화

여러 스레드가 공유 자원에 접근할 때 동시성 문제가 발생할 수 있다. 이를 해결하기 위해 스레드 간의 동기화 기법을 사용다. 동기화 기법은 임계 영역, 뮤텍스, 세마포어 등이 있으며, 공유 자원의 안전한 접근을 보장한다.
